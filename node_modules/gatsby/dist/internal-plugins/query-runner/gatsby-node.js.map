{"version":3,"sources":["../../../src/internal-plugins/query-runner/gatsby-node.js"],"names":["require","watchComponent","components","exports","onCreatePage","page","store","process","env","NODE_ENV","component","getState","get","componentPath","exit"],"mappings":";;iBAA2BA,OAAO,CAAE,iBAAF,C;MAA1BC,c,YAAAA,c;;AAER,IAAIC,UAAU,GAAG,EAAjB;;AAEAC,OAAO,CAACC,YAAR,GAAuB,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAD,KAAqB;AAC1C;AACA,MAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAA0B,YAA9B,EAA2C;AACzC,UAAMC,SAAS,GAAGJ,KAAK,CAACK,QAAN,GAAiBT,UAAjB,CAA4BU,GAA5B,CAAgCP,IAAI,CAACQ,aAArC,CAAlB;;AAEA,QAAI,CAACH,SAAL,EAAgB;AACdH,MAAAA,OAAO,CAACO,IAAR;AACD;;AAED,QAAIZ,UAAU,CAACQ,SAAS,CAACG,aAAX,CAAd,EAAyC;AACvC;AACD;;AAEDZ,IAAAA,cAAc,CAACS,SAAS,CAACG,aAAX,CAAd;AACD;AACF,CAfD","sourcesContent":["const { watchComponent } = require(`./query-watcher`)\n\nlet components = {}\n\nexports.onCreatePage = ({ page, store }) => {\n  // In development, watch the component to detect query changes.\n  if (process.env.NODE_ENV !== `production`) {\n    const component = store.getState().components.get(page.componentPath)\n\n    if (!component) {\n      process.exit()\n    }\n\n    if (components[component.componentPath]) {\n      return\n    }\n\n    watchComponent(component.componentPath)\n  }\n}\n"],"file":"gatsby-node.js"}