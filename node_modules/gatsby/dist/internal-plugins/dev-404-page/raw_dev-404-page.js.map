{"version":3,"sources":["../../../src/internal-plugins/dev-404-page/raw_dev-404-page.js"],"names":["Dev404Page","React","Component","constructor","props","state","showCustom404","bind","setState","render","pathname","location","pages","filter","p","test","path","newFilePath","slice","custom404","length","map","page","PropTypes","arrayOf","object","element"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,MAAMA,UAAN,SAAyBC,eAAMC,SAA/B,CAAyC;AAOvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAAEC,MAAAA,aAAa,EAAE;AAAjB,KAAb;AACA,SAAKA,aAAL,GAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB;AACD;;AAEDD,EAAAA,aAAa,GAAG;AACd,SAAKE,QAAL,CAAc;AAAEF,MAAAA,aAAa,EAAE;AAAjB,KAAd;AACD;;AAEDG,EAAAA,MAAM,GAAG;AAAA,UACCC,QADD,GACc,KAAKN,KAAL,CAAWO,QADzB,CACCD,QADD;AAEP,UAAME,KAAK,GAAG,KAAKR,KAAL,CAAWQ,KAAX,CAAiBC,MAAjB,CACZC,CAAC,IAAI,CAAC,qBAAqBC,IAArB,CAA0BD,CAAC,CAACE,IAA5B,CADM,CAAd;AAGA,QAAIC,WAAJ;;AACA,QAAIP,QAAQ,KAAM,GAAlB,EAAsB;AACpBO,MAAAA,WAAW,GAAI,oBAAf;AACD,KAFD,MAEO,IAAIP,QAAQ,CAACQ,KAAT,CAAe,CAAC,CAAhB,MAAwB,GAA5B,EAAgC;AACrCD,MAAAA,WAAW,GAAI,YAAWP,QAAQ,CAACQ,KAAT,CAAe,CAAf,EAAkB,CAAC,CAAnB,CAAsB,KAAhD;AACD,KAFM,MAEA;AACLD,MAAAA,WAAW,GAAI,YAAWP,QAAS,KAAnC;AACD;;AAED,WAAO,KAAKL,KAAL,CAAWC,aAAX,GACL,KAAKF,KAAL,CAAWe,SADN,GAGL,0CACE,0EADF,EAEE,wCACI,4BADJ,EAEE,2CAAOT,QAAP,CAFF,CAFF,EAMG,KAAKN,KAAL,CAAWe,SAAX,GACC,wCACE;AAAQ,MAAA,OAAO,EAAE,KAAKb;AAAtB,iCADF,CADD,GAOC,wCACI,iHADJ,EAEE,8DAFF,MAbJ,EAkBE,iGAEI,GAFJ,EAGE,2CAAOW,WAAP,CAHF,EAII,GAJJ,yFAlBF,EA0BGL,KAAK,CAACQ,MAAN,GAAe,CAAf,IACC,0CACE,mHADF,EAKE,oDAAYR,KAAK,CAACQ,MAAlB,MALF,EAME,yCACGR,KAAK,CAACS,GAAN,CAAUC,IAAI,IACb;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACN;AAAd,OACE,6BAAC,YAAD;AAAM,MAAA,EAAE,EAAEM,IAAI,CAACN;AAAf,OAAsBM,IAAI,CAACN,IAA3B,CADF,CADD,CADH,CANF,CA3BJ,CAHF;AA+CD;;AA9EsC;;8BAAnChB,U,eACe;AACjBY,EAAAA,KAAK,EAAEW,mBAAUC,OAAV,CAAkBD,mBAAUE,MAA5B,CADU;AAEjBN,EAAAA,SAAS,EAAEI,mBAAUG,OAFJ;AAGjBf,EAAAA,QAAQ,EAAEY,mBAAUE;AAHH,C;eAgFNzB,U","sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { Link } from \"gatsby\"\n\nclass Dev404Page extends React.Component {\n  static propTypes = {\n    pages: PropTypes.arrayOf(PropTypes.object),\n    custom404: PropTypes.element,\n    location: PropTypes.object,\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { showCustom404: false }\n    this.showCustom404 = this.showCustom404.bind(this)\n  }\n\n  showCustom404() {\n    this.setState({ showCustom404: true })\n  }\n\n  render() {\n    const { pathname } = this.props.location\n    const pages = this.props.pages.filter(\n      p => !/^\\/dev-404-page\\/$/.test(p.path)\n    )\n    let newFilePath\n    if (pathname === `/`) {\n      newFilePath = `src/pages/index.js`\n    } else if (pathname.slice(-1) === `/`) {\n      newFilePath = `src/pages${pathname.slice(0, -1)}.js`\n    } else {\n      newFilePath = `src/pages${pathname}.js`\n    }\n\n    return this.state.showCustom404 ? (\n      this.props.custom404\n    ) : (\n      <div>\n        <h1>Gatsby.js development 404 page</h1>\n        <p>\n          {`There's not a page yet at `}\n          <code>{pathname}</code>\n        </p>\n        {this.props.custom404 ? (\n          <p>\n            <button onClick={this.showCustom404}>\n              Preview custom 404 page\n            </button>\n          </p>\n        ) : (\n          <p>\n            {`A custom 404 page wasn't detected - if you would like to add one, create a component in your site directory at `}\n            <code>src/pages/404.js</code>.\n          </p>\n        )}\n        <p>\n          Create a React.js component in your site directory at\n          {` `}\n          <code>{newFilePath}</code>\n          {` `}\n          and this page will automatically refresh to show the new page\n          component you created.\n        </p>\n        {pages.length > 0 && (\n          <div>\n            <p>\n              If you were trying to reach another page, perhaps you can find it\n              below.\n            </p>\n            <h2>Pages ({pages.length})</h2>\n            <ul>\n              {pages.map(page => (\n                <li key={page.path}>\n                  <Link to={page.path}>{page.path}</Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default Dev404Page\n"],"file":"raw_dev-404-page.js"}