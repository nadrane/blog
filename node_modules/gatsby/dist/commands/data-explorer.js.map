{"version":3,"sources":["../../src/commands/data-explorer.js"],"names":["express","require","graphqlHTTP","store","bootstrap","module","exports","program","port","host","parseInt","schema","getState","app","use","graphiql","console","log","listen"],"mappings":";;;;;;AAEA,MAAMA,OAAO,GAAGC,OAAO,CAAE,SAAF,CAAvB;;AACA,MAAMC,WAAW,GAAGD,OAAO,CAAE,iBAAF,CAA3B;;iBACkBA,OAAO,CAAE,UAAF,C;MAAjBE,K,YAAAA,K;;AACR,MAAMC,SAAS,GAAGH,OAAO,CAAE,cAAF,CAAzB;;AAEAI,MAAM,CAACC,OAAP;AAAA;AAAA;AAAA,6CAAiB,WAAOC,OAAP,EAAwB;AAAA,QACjCC,IADiC,GAClBD,OADkB,CACjCC,IADiC;AAAA,QAC3BC,IAD2B,GAClBF,OADkB,CAC3BE,IAD2B;AAEvCD,IAAAA,IAAI,GAAG,OAAOA,IAAP,KAAiB,QAAjB,GAA2BE,QAAQ,CAACF,IAAD,EAAO,EAAP,CAAnC,GAAgDA,IAAvD,CAFuC,CAIvC;;AACA,UAAMJ,SAAS,CAACG,OAAD,CAAf;AAEA,UAAMI,MAAM,GAAGR,KAAK,CAACS,QAAN,GAAiBD,MAAhC;AAEA,UAAME,GAAG,GAAGb,OAAO,EAAnB;AACAa,IAAAA,GAAG,CAACC,GAAJ,CACG,GADH,EAEEZ,WAAW,CAAC;AACVS,MAAAA,MADU;AAEVI,MAAAA,QAAQ,EAAE;AAFA,KAAD,CAFb;AAQAC,IAAAA,OAAO,CAACC,GAAR,CAAa,iCAAb,EAAgD,UAASR,IAAK,IAAGD,IAAK,EAAtE;AACAK,IAAAA,GAAG,CAACK,MAAJ,CAAWV,IAAX,EAAiBC,IAAjB;AACD,GApBD;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["/* @flow */\n\nconst express = require(`express`)\nconst graphqlHTTP = require(`express-graphql`)\nconst { store } = require(`../redux`)\nconst bootstrap = require(`../bootstrap`)\n\nmodule.exports = async (program: any) => {\n  let { port, host } = program\n  port = typeof port === `string` ? parseInt(port, 10) : port\n\n  // bootstrap to ensure schema is in the store\n  await bootstrap(program)\n\n  const schema = store.getState().schema\n\n  const app = express()\n  app.use(\n    `/`,\n    graphqlHTTP({\n      schema,\n      graphiql: true,\n    })\n  )\n\n  console.log(`Gatsby data explorer running at`, `http://${host}:${port}`)\n  app.listen(port, host)\n}\n"],"file":"data-explorer.js"}